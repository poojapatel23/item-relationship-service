<?xml version='1.0' encoding='US-ASCII' standalone='no'?><svg contentStyleType='text/css' height='535px' preserveAspectRatio='none' style='width:1253px;height:535px;background:#FFFFFF;' version='1.1' viewBox='0 0 1253 535' width='1253px' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns='http://www.w3.org/2000/svg' zoomAndPan='magnify'><defs/><g><rect fill='none' height='313.1328' style='stroke:#000000;stroke-width:1.5;' width='1088.5' x='10' y='111.5625'/><rect fill='none' height='90.2031' style='stroke:#000000;stroke-width:1.5;' width='503.5' x='20' y='179.8281'/><rect fill='none' height='46.2656' style='stroke:#000000;stroke-width:1.5;' width='747.5' x='20' y='342.2969'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='104' x2='104' y1='36.2969' y2='499.9609'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='412.5' x2='412.5' y1='36.2969' y2='499.9609'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='640.5' x2='640.5' y1='36.2969' y2='499.9609'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1006.5' x2='1006.5' y1='36.2969' y2='499.9609'/><line style='stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;' x1='1172.5' x2='1172.5' y1='36.2969' y2='499.9609'/><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149' x='30' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135' x='37' y='24.9951'>EdcSubmodelClient</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149' x='30' y='498.9609'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135' x='37' y='518.9561'>EdcSubmodelClient</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='202' x='311.5' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='188' x='318.5' y='24.9951'>ContractNegotiationService</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='202' x='311.5' y='498.9609'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='188' x='318.5' y='518.9561'>ContractNegotiationService</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='234' x='523.5' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='220' x='530.5' y='24.9951'>EndpointDataReferenceStorage</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='234' x='523.5' y='498.9609'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='220' x='530.5' y='518.9561'>EndpointDataReferenceStorage</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='164' x='924.5' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='150' x='931.5' y='24.9951'>EdcCallbackController</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='164' x='924.5' y='498.9609'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='150' x='931.5' y='518.9561'>EdcCallbackController</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149' x='1098.5' y='5'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135' x='1105.5' y='24.9951'>EdcDataPlaneClient</text><rect fill='#E2E2F0' height='30.2969' rx='2.5' ry='2.5' style='stroke:#181818;stroke-width:0.5;' width='149' x='1098.5' y='498.9609'/><text fill='#000000' font-family='sans-serif' font-size='14' lengthAdjust='spacing' textLength='135' x='1105.5' y='518.9561'>EdcDataPlaneClient</text><line style='stroke:#181818;stroke-width:1.0;' x1='638.5' x2='628.5' y1='67.4297' y2='63.4297'/><line style='stroke:#181818;stroke-width:1.0;' x1='638.5' x2='628.5' y1='67.4297' y2='71.4297'/><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='639.5' y1='67.4297' y2='67.4297'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='111.5' y='62.3638'>1</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='201' x='124.5' y='62.3638'>Get EDR Token for EDC asset id</text><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='96.5625' y2='92.5625'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='96.5625' y2='100.5625'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='104.5' x2='639.5' y1='96.5625' y2='96.5625'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='121.5' y='91.4966'>2</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='189' x='134.5' y='91.4966'>Return Optional&lt;EDR Token&gt;</text><path d='M10,111.5625 L74,111.5625 L74,118.6953 L64,128.6953 L10,128.6953 L10,111.5625 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='313.1328' style='stroke:#000000;stroke-width:1.5;' width='1088.5' x='10' y='111.5625'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='25' y='124.6294'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='222' x='89' y='123.7729'>[Token is present and not expired]</text><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='146.5' y1='149.8281' y2='149.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='146.5' x2='146.5' y1='149.8281' y2='162.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='146.5' y1='162.8281' y2='162.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='162.8281' y2='158.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='162.8281' y2='166.8281'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='111.5' y='144.7622'>3</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='78' x='124.5' y='144.7622'>Optional.get</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='10' x2='1098.5' y1='171.8281' y2='171.8281'/><path d='M20,179.8281 L84,179.8281 L84,186.9609 L74,196.9609 L20,196.9609 L20,179.8281 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='90.2031' style='stroke:#000000;stroke-width:1.5;' width='503.5' x='20' y='179.8281'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='19' x='35' y='192.895'>alt</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='116' x='99' y='192.0386'>[Token is expired]</text><line style='stroke:#181818;stroke-width:1.0;' x1='410.5' x2='400.5' y1='218.0938' y2='214.0938'/><line style='stroke:#181818;stroke-width:1.0;' x1='410.5' x2='400.5' y1='218.0938' y2='222.0938'/><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='411.5' y1='218.0938' y2='218.0938'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='111.5' y='213.0278'>4</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='271' x='124.5' y='213.0278'>Renew EDR Token based on existing Token</text><line style='stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='20' x2='523.5' y1='227.0938' y2='227.0938'/><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='142' x='25' y='237.3042'>[Token is not present]</text><line style='stroke:#181818;stroke-width:1.0;' x1='410.5' x2='400.5' y1='262.0313' y2='258.0313'/><line style='stroke:#181818;stroke-width:1.0;' x1='410.5' x2='400.5' y1='262.0313' y2='266.0313'/><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='411.5' y1='262.0313' y2='262.0313'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='111.5' y='256.9653'>5</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='164' x='124.5' y='256.9653'>Negotiate new EDR Token</text><line style='stroke:#181818;stroke-width:1.0;' x1='1004.5' x2='994.5' y1='298.1641' y2='294.1641'/><line style='stroke:#181818;stroke-width:1.0;' x1='1004.5' x2='994.5' y1='298.1641' y2='302.1641'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='412.5' x2='1005.5' y1='298.1641' y2='298.1641'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='419.5' y='293.0981'>6</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='55' x='432.5' y='293.0981'>EDC flow</text><line style='stroke:#181818;stroke-width:1.0;' x1='641.5' x2='651.5' y1='327.2969' y2='323.2969'/><line style='stroke:#181818;stroke-width:1.0;' x1='641.5' x2='651.5' y1='327.2969' y2='331.2969'/><line style='stroke:#181818;stroke-width:1.0;' x1='640.5' x2='1005.5' y1='327.2969' y2='327.2969'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='657.5' y='322.231'>7</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='329' x='670.5' y='322.231'>Store EDR token by EDC asset id after EDC callback</text><path d='M20,342.2969 L97,342.2969 L97,349.4297 L87,359.4297 L20,359.4297 L20,342.2969 ' fill='#EEEEEE' style='stroke:#000000;stroke-width:1.5;'/><rect fill='none' height='46.2656' style='stroke:#000000;stroke-width:1.5;' width='747.5' x='20' y='342.2969'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='32' x='35' y='355.3638'>loop</text><text fill='#000000' font-family='sans-serif' font-size='11' font-weight='bold' lengthAdjust='spacing' textLength='212' x='112' y='354.5073'>[While EDR Token is not present]</text><line style='stroke:#181818;stroke-width:1.0;' x1='638.5' x2='628.5' y1='380.5625' y2='376.5625'/><line style='stroke:#181818;stroke-width:1.0;' x1='638.5' x2='628.5' y1='380.5625' y2='384.5625'/><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='639.5' y1='380.5625' y2='380.5625'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='111.5' y='375.4966'>8</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='115' x='124.5' y='375.4966'>Poll for EDR Token</text><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='416.6953' y2='412.6953'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='416.6953' y2='420.6953'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='104.5' x2='639.5' y1='416.6953' y2='416.6953'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='9' x='121.5' y='411.6294'>9</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='114' x='134.5' y='411.6294'>Return EDR Token</text><line style='stroke:#181818;stroke-width:1.0;' x1='1171' x2='1161' y1='452.8281' y2='448.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='1171' x2='1161' y1='452.8281' y2='456.8281'/><line style='stroke:#181818;stroke-width:1.0;' x1='104.5' x2='1172' y1='452.8281' y2='452.8281'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='18' x='111.5' y='447.7622'>10</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='237' x='133.5' y='447.7622'>Get data(EDR Token, Dataplane URL)</text><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='481.9609' y2='477.9609'/><line style='stroke:#181818;stroke-width:1.0;' x1='105.5' x2='115.5' y1='481.9609' y2='485.9609'/><line style='stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;' x1='104.5' x2='1172' y1='481.9609' y2='481.9609'/><text fill='#000000' font-family='sans-serif' font-size='13' font-weight='bold' lengthAdjust='spacing' textLength='18' x='121.5' y='476.895'>11</text><text fill='#000000' font-family='sans-serif' font-size='13' lengthAdjust='spacing' textLength='75' x='143.5' y='476.895'>Return data</text></g></svg>